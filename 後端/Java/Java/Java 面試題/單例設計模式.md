# Singleton 單例設計模式

單: 唯一
例: 實例



- 某一個類只能有一個實例
  - 建構子私有化
- 必須自行創建這個實例
  - 含有一個該類的`靜態變數`來保存這個唯一的實例
- 必須自行向整個系統提供這個實例
  - 對外提供獲取該實例對象的方式
    1. 直接暴露
    2. 用靜態變數的 `get()` 方法獲取 



- 餓漢式: 直接創建對象，不存在線程安全問題
  - 直接實例化餓漢式
  - 枚舉式
  - 靜態代碼快餓漢式(適合複雜實例化)
- 懶漢式: 延遲創建對象
  - 線程不安全(用於單線程)
  - 線程安全(用於多線程)
  - 靜態內部類形式(用於多線程)
    - 在內部類被加載和初始化時，才創建實例對象
       * 靜態內部類不會隨著外部類的加載和初始化而初始化，他是要單獨去加載和初始化的
       * 在內部類被加載和初始化時創建外部類實例，所以是線程安全



